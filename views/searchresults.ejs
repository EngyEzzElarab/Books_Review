<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        body {
            background-image: url("background3.jpg");
            background-repeat: no-repeat;
            background-size: 100%;
        }

        h1 {
            color: white;
            text-align: center;
            -webkit-text-stroke: 1px blue;
        }
        
        #book {
            position: relative;
            left: 50px;
        }
        .container1 {
            position: fixed;
            left: 50px;
            top: 150px;
            color: white;
        }
        .container2 {
            position: fixed;
            left: 300px;
            top: 150px;
            color: white;
        }
        .container3 {
            position: fixed;
            left: 550px;
            top: 150px;
            color: white;
        }
        .container4 {
            position: fixed;
            left: 800px;
            top: 150px;
            color: white;
        }
       
        .container5 {
            position: fixed;
            left: 1050px;
            top: 150px;
            color: white;
        }
        .container6 {
            position: fixed;
            left: 1300px;
            top: 150px;
            color: white;
        }
        #label {
            position: relative;
            text-align: center;
        }
        .main-container{
            padding: 5px;

        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Search Results</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-2">
        <a class="navbar-brand" style="color: rgb(191, 255, 161)">Search Results</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
            </ul>
            <form method="POST" action='/search' class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" name="Search" type="search" placeholder="Search"
                    aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </nav>
    <span id="notfound" style="display: none;   color: green;"> Book not found  </span>
    <div class="main-container">
        <div id="dune" style="display: none;">
            <img id="image" src="/dune.jpg" width="193" height="300">
            <br>
            <label id ="label" class="ml-4 my-2">Dune</label>
            <br>
            <button onclick="location.href = '/dune';" id="book" class="btn btn-secondary ml-3"> View </button>
        </div>
        <div id="flies"  style="display: none;">
            <img id="image" src="/flies.jpg" width="193" height="300">
            <br>
            <label id ="label" class="ml-4 my-2">Lord of the Flies</label>
            <br>
            <button onclick="location.href = '/flies';" id="book" class="btn btn-secondary ml-3"> View </button>
        </div>
        <div \ id="grapes" style="display: none;">
            <img id="image" src="/grapes.jpg" width="193" height="300">
            <br>
            <label id ="label"  class="ml-4 my-2">The Grapes of Wrath</label>
            <br>
            <button onclick="location.href = '/grapes';" id="book" class="btn btn-secondary ml-3"> View </button>
        </div>
        <div id="sun" style="display: none;">
            <img id="image" src="/sun.jpg" width="193" height="300">
            <br>
            <label id ="label" class="ml-4 my-2">The Sun and Her Flowers</label>
            <br>
            <button onclick="location.href = '/sun';" id="book" class="btn btn-secondary ml-3"> View </button>
        </div>
        <div id="leaves" style="display: none;">
            <img id="image" src="/leaves.jpg" width="193" height="300">
            <br>
            <label id ="label" class="ml-4 my-2">Leaves of Grass</label>
            <br>
            <button onclick="location.href = '/leaves';" id="book" class="btn btn-secondary ml-3"> View </button>
        </div>
        <div id="mockingbird" style="display: none;">
            <img id="image" src="/mockingbird.jpg" width="193" height="300">
            <br>
            <label id ="label" class="ml-4 my-2">To Kill a Mockingbird</label>
            <br>
            <button onclick="location.href = '/mockingbird';" id="book" class="btn btn-secondary ml-3"> View </button>
        </div>
    </div>
    
</body>
<script>
   
   //send request ----> global array object 
   //get  ---> get data
   //then(data)-->update
   




   const retrievedata = async ()=>{
   const request=await fetch('/getSearchedBooks');
   try{
     const allData=await request.json();
     let i=1;
     if(allData.length===0){
         console.log("ascac");
      document.getElementById('notfound').style.display='block';
     }
    for(books of allData){
     let xx=document.getElementById(`${books}`);
     xx.style.display='block';
     xx.classList.add(`container${i++}`);
    }
   }
   catch(error){
    console.log("error",error);
   }
  }
  retrievedata();

</script>
</html>